<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd">

    <changeSet id="Document table creation" author="A192747" runOnChange="true">
        <sql>
            CREATE TABLE public.document (
                id                   BIGINT          PRIMARY KEY     GENERATED BY DEFAULT AS IDENTITY,
                document_type_id     BIGINT          NOT NULL        REFERENCES      document_type(id),
                user_id              UUID            NOT NULL        REFERENCES      user(id),
                created_at           TIMESTAMP       NOT NULL,
                updated_at           TIMESTAMP       NOT NULL,
                data                 BYTEA           NOT NULL,
                CHECK (updated_at > created_at)
            );

            -- Column comments
            COMMENT ON COLUMN public.prikol.id IS 'в автора пишите свой ник в айди название скрипта';

        </sql>
    </changeSet>
</databaseChangeLog>
